# 命令速查表

## 📋 所有可用命令

```bash
# === 核心功能 ===
python main.py train       # 训练AI (100局/轮, 约2.8小时)
python main.py play        # 人机对战 ⭐
python main.py evaluate    # 快速评估 (20局测试) ⭐
python main.py watch       # 观看AI对局

# === 分析工具 ===
python plot_progress.py                          # 绘制训练曲线
python compare_models.py --model2 PATH           # 对比两个模型 ⭐
python evaluate.py --games 20                    # 独立评估脚本

# === 帮助 ===
python main.py help        # 查看所有命令
```

---

## 🎯 常用场景

### 场景1: 首次使用
```bash
python main.py train       # 开始训练
# Ctrl+C 中断后...
python main.py evaluate    # 评估实力
python main.py play        # 人机对战
```

### 场景2: 验收成果（5种方式）
```bash
python main.py evaluate              # 1. 量化评估
python main.py play                  # 2. 人机对战
python main.py watch                 # 3. 观看对局
python plot_progress.py              # 4. 训练曲线
python compare_models.py --model2 XX # 5. 模型对比
```

### 场景3: 长期训练
```bash
# 每天重复
python main.py train       # 训练一轮
python main.py evaluate    # 评估进度
python plot_progress.py    # 查看曲线

# 每周一次
python compare_models.py --model2 models/model_上周.pt
```

---

## ⚙️ 命令参数

### evaluate.py
```bash
python evaluate.py --games 10      # 评估10局(默认20)
python evaluate.py --model PATH    # 指定模型路径
```

### compare_models.py
```bash
python compare_models.py --model2 PATH                    # 对比latest vs PATH
python compare_models.py --model1 P1 --model2 P2          # 对比P1 vs P2
python compare_models.py --model2 PATH --games 20         # 每轮20局(默认10)
```

---

## 📂 文件位置

### 输入
- `config.py` - 修改训练参数
- `models/latest.pt` - 最新模型

### 输出
- `logs/training.log` - 训练日志
- `logs/evaluation_history.txt` - 评估历史
- `logs/training_progress.png` - 训练曲线图
- `models/model_N.pt` - 备份模型(每1000局)

---

## ⌨️ 快捷键（人机对战/观看）

### 人机对战模式
- 鼠标点击 - 选择和移动棋子
- Q键 - 退出

### 观看模式
- 空格键 - 暂停/继续
- Enter键 - 单步执行
- 1-5键 - 调整速度(1=极慢, 5=极快)
- Q键 - 退出

---

## 🚨 常见错误

### 错误: 模型文件不存在
```bash
# 解决: 先训练
python main.py train
```

### 错误: CUDA out of memory
```python
# 解决: 降低config.py中的参数
BATCH_SIZE = 32  # 从64降到32
```

### 错误: 游戏12步就结束
```
# 已修复: 长捉检测已禁用
# 如需启用: 编辑chess_env.py:718
```

---

## 📊 训练时间表

| 目标 | 训练局数 | 耗时 | 命令 |
|------|---------|------|------|
| 测试系统 | 1轮(100局) | 2.8小时 | `python main.py train` |
| 知道吃子 | 500局 | 14小时 | 持续训练5轮 |
| 简单战术 | 2000局 | 2.3天 | 持续训练20轮 |
| 业余初级 | 5000局 | 5.8天 | 持续训练50轮 |
| 业余中级 | 10000局 | 11.7天 | 持续训练100轮 |

---

**提示:** 可随时Ctrl+C中断训练，模型会自动保存！
